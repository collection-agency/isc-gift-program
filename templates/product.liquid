{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

<section>
  <div class="flex flex-wrap -mx-4 px-4 justify-between">

    <div class="w-2/5 mb-16 px-4 hidden md:block">
      <img src="{{ featured_image | img_url: '900x' }}" alt="{{ featured_image.alt | escape }}">
    </div>

    <div class="md:w-1/2 mb-36 px-4">

      <span class="text-4xl mb-2 block font-heading">ISC Gift Program</span>

      <h1 class="text-4xl mb-36">{{ product.title }}</h1>

      <img class="mb-10 md:hidden" src="{{ featured_image | img_url: '640x' }}" alt="{{ featured_image.alt | escape }}">

      <div class="mb-10 md:hidden">{{ product.description }}</div>

      <div class="mb-20">
        <form action="/cart/add" method="post" enctype="multipart/form-data" id="AddToCartForm">
          <select name="id" id="productSelect" {% if product.variants.size == 1 %}class="hidden"{% endif %}>
            {% for variant in product.variants %}
              {% if variant.available %}
                <option value="{{ variant.id }}" selected="selected">
                  {{ variant.title }} - {{ variant.price | money_with_currency }}
                </option>
              {% else %}
                <option disabled="disabled">
                  {{ variant.title }} - sold out
                </option>
              {% endif %}
            {% endfor %}
          </select>

          <div class="line-item-property__field required flex flex-wrap md:flex-nowrap mb-10">
            <label for="Name" class="w-full md:w-1/5 w-1/6 flex-shrink-0 text-xs uppercase mb-4">Name</label>
            <textarea id="Name" class="h-15" name="properties[Name]" placeholder="Gift recipient name"></textarea>
          </div>

          <div class="line-item-property__field flex flex-wrap md:flex-nowrap mb-10">
            <label for="Address" class="w-full md:w-1/5 w-1/6 flex-shrink-0 text-xs uppercase mb-4">Address</label>
            <textarea id="Address" class="h-15" name="properties[Address]" placeholder="Gift recipient address"></textarea>
          </div>

          <div class="line-item-property__field flex flex-wrap md:flex-nowrap mb-10">
            <label for="Records" class="w-full md:w-1/5 w-1/6 flex-shrink-0 text-xs uppercase mb-4">Records</label>
            <textarea id="Records" class="h-40" name="properties[Records]" placeholder="Around how many records does the recipient own?"></textarea>
          </div>

          <div class="line-item-property__field flex flex-wrap md:flex-nowrap mb-10">
            <label for="Concert" class="w-full md:w-1/5 w-1/6 flex-shrink-0 text-xs uppercase mb-4">Concert</label>
            <textarea id="Concert" class="h-40" name="properties[Concert]" placeholder="What was the last concert the recipient attended or last one you went to together?"></textarea>
          </div>
          

          <div class="line-item-property__field flex flex-wrap md:flex-nowrap mb-10">
            <label for="Message" class="w-full md:w-1/5 w-1/6 flex-shrink-0 text-xs uppercase mb-4">Message</label>
            <textarea id="Message" class="h-40" name="properties[Message]" placeholder="Personal message to recipient"></textarea>
          </div>

          <div class="line-item-property__field flex flex-wrap md:flex-nowrap mb-10">
            <label for="Notes" class="w-full md:w-1/5 w-1/6 flex-shrink-0 text-xs uppercase mb-4">Notes</label>
            <textarea id="Notes" class="h-40" name="properties[Notes]" placeholder="Any additional information you would like to share about the recipient?"></textarea>
          </div>

          <div class="mb-10"><span>Price {{ current_variant.price | money }}</span></div>

          <button type="submit" name="add" id="AddToCart" class="w-full md:w-1/2">Add to cart</button>
        </form>
      </div>

      <div class="hidden md:block w-4/5 max-w-prose mb-20">{{ product.description }}</div>

    </div>
  </div>
</section>
